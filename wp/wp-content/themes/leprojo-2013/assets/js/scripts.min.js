/*! lasourisetlepiano-2013 - v1.0.0 - 2013-09-27
* Copyright (c) 2013 ; Licensed  */
(function(a) {
    function b(b) {
        var c = a(b).find("li"), d = 0, e = 1300, f = [];
        c.addClass("hidden-diapo-list"), jQuery(c).each(function() {
            var a = jQuery(this);
            f[d] = setTimeout(function() {
                c.addClass("hidden-diapo-list").removeClass("visible-diapo-list"), a.removeClass("hidden-diapo-list").addClass("visible-diapo-list");
            }, d * e), d++;
        });
    }
    function c(b) {
        if (a("html").hasClass("no-touch")) {
            var c = a(b), d = '<span class="' + b.replace(".", "") + '">';
            d += c.html() + "</span>", c.parent().append(d), c.remove();
        }
    }
    function d(b, c, d, e) {
        a(c).css(d, a(b).outerHeight() * e);
    }
    function e(a, b, c, d) {
        google.maps.event.addListener(b, d, function() {
            c.setContent(b.messageContent), c.open(a, b);
        });
    }
    function f(b) {
        document.getElementById(b) && a(window).resize(function() {
            setTimeout(g(b), 1e3);
        });
    }
    function g(b) {
        if (document.getElementById(b)) if (a("#" + b).css("background", "url(" + i + "map/loader.gif) center center no-repeat"), 
        a("html").hasClass("no-touch")) {
            a("#mapWrapperLink").removeAttr("href", ""), d("#hcard-la_souris_et_le_piano", "#" + b, "padding-top", 1.3);
            var c, f = new google.maps.LatLng(48.8655, 2.392), g = new google.maps.LatLng(48.86615, 2.39425), h = new google.maps.LatLng(48.8648, 2.394655), j = new google.maps.LatLng(48.86482, 2.398335), k = i;
            k += a("html").hasClass("no-svg") ? "map/location-coordonnees.png" : "map/location-coordonnees.svg", 
            c = a("#" + b).width() < 650 ? 15 : 16;
            var l, m, n, o = new google.maps.MarkerImage(k, new google.maps.Size(70, 70), new google.maps.Point(0, 0)), p = new google.maps.MarkerImage(k, new google.maps.Size(40, 40), new google.maps.Point(10, 75)), q = {
                zoom: c,
                center: f,
                mapTypeId: google.maps.MapTypeId.ROADMAP
            }, r = new google.maps.Map(document.getElementById(b), q), s = new google.maps.InfoWindow();
            l = new google.maps.Marker({
                icon: o,
                position: g,
                map: r,
                messageTitle: "La souris et le piano",
                messageContent: "C'est ici!"
            }), m = new google.maps.Marker({
                icon: p,
                position: j,
                map: r,
                messageTitle: "Métro 3 et 3bis Gambetta",
                messageContent: "Sortie place Gambetta ou Mairie du 20ème"
            }), n = new google.maps.Marker({
                icon: p,
                position: h,
                map: r,
                messageTitle: "Métro 3 et 3bis Gambetta",
                messageContent: "Sortie place Martin Nadaud"
            });
            var t, u, v = [ l, m, n ];
            for (t = v.length - 1; t >= 0; t--) u = '<div class="infowindow"><span><strong>' + v[t].messageTitle + "</strong><br/></span>", 
            v[t].messageContent = u + "<span>" + v[t].messageContent + "</span></div>", e(r, v[t], s, "mouseover");
        } else a("#" + b).css("background-image", "url(" + i + "map/mapHd.png)"), a("#" + b).click(function() {
            window.open("http://goo.gl/maps/RgCDv");
        });
    }
    var h = a("script[src*=scripts]").attr("src"), i = h.replace("js/scripts.min.js", "img/");
    a("document").ready(function() {
        b("#creation-diapo-list"), c(".phone-link"), c(".skype-link"), g("map"), f("map");
    });
})(jQuery);