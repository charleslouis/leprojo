/*! lasourisetlepiano-2013 - v1.0.0 - 2013-10-02
* Copyright (c) 2013 ; Licensed  */
!function(a,b,c){"use strict";Foundation.libs.interchange={name:"interchange",version:"4.2.4",cache:{},images_loaded:!1,settings:{load_attr:"interchange",named_queries:{"default":"only screen and (min-width: 1px)",small:"only screen and (min-width: 768px)",medium:"only screen and (min-width: 1280px)",large:"only screen and (min-width: 1440px)",landscape:"only screen and (orientation: landscape)",portrait:"only screen and (orientation: portrait)",retina:"only screen and (-webkit-min-device-pixel-ratio: 2),only screen and (min--moz-device-pixel-ratio: 2),only screen and (-o-min-device-pixel-ratio: 2/1),only screen and (min-device-pixel-ratio: 2),only screen and (min-resolution: 192dpi),only screen and (min-resolution: 2dppx)"},directives:{replace:function(a,b){if(/IMG/.test(a[0].nodeName)){var c=a[0].src;if(new RegExp(b,"i").test(c))return;return a[0].src=b,a.trigger("replace",[a[0].src,c])}}}},init:function(b,c,d){return Foundation.inherit(this,"throttle"),"object"==typeof c&&a.extend(!0,this.settings,c),this.events(),this.images(),"string"!=typeof c?this.settings.init:this[c].call(this,d)},events:function(){var c=this;a(b).on("resize.fndtn.interchange",c.throttle(function(){c.resize.call(c)},50))},resize:function(){var b=this.cache;if(!this.images_loaded)return setTimeout(a.proxy(this.resize,this),50),void 0;for(var c in b)if(b.hasOwnProperty(c)){var d=this.results(c,b[c]);d&&this.settings.directives[d.scenario[1]](d.el,d.scenario[0])}},results:function(b,c){var d=c.length;if(d>0)for(var e=a('[data-uuid="'+b+'"]'),f=d-1;f>=0;f--){var g,h=c[f][2];if(g=this.settings.named_queries.hasOwnProperty(h)?matchMedia(this.settings.named_queries[h]):matchMedia(h),g.matches)return{el:e,scenario:c[f]}}return!1},images:function(a){return"undefined"==typeof this.cached_images||a?this.update_images():this.cached_images},update_images:function(){var b=c.getElementsByTagName("img"),d=b.length,e=0,f="data-"+this.settings.load_attr;this.cached_images=[],this.images_loaded=!1;for(var g=d-1;g>=0;g--)this.loaded(a(b[g]),function(a){if(e++,a){var b=a.getAttribute(f)||"";b.length>0&&this.cached_images.push(a)}e===d&&(this.images_loaded=!0,this.enhance())}.bind(this));return"deferred"},loaded:function(a,b){function c(){b(a[0])}function d(){if(this.one("load",c),/MSIE (\d+\.\d+);/.test(navigator.userAgent)){var a=this.attr("src"),b=a.match(/\?/)?"&":"?";b+="random="+(new Date).getTime(),this.attr("src",a+b)}}return a.attr("src")?(a[0].complete||4===a[0].readyState?c():d.call(a),void 0):(c(),void 0)},enhance:function(){for(var c=this.images().length,d=c-1;d>=0;d--)this._object(a(this.images()[d]));return a(b).trigger("resize")},parse_params:function(a,b,c){return[this.trim(a),this.convert_directive(b),this.trim(c)]},convert_directive:function(a){var b=this.trim(a);return b.length>0?b:"replace"},_object:function(a){var b=this.parse_data_attr(a),c=[],d=b.length;if(d>0)for(var e=d-1;e>=0;e--){var f=b[e].split(/\((.*?)(\))$/);if(f.length>1){var g=f[0].split(","),h=this.parse_params(g[0],g[1],f[1]);c.push(h)}}return this.store(a,c)},uuid:function(a){function b(){return(0|65536*(1+Math.random())).toString(16).substring(1)}var c=a||"-";return b()+b()+c+b()+c+b()+c+b()+c+b()+b()+b()},store:function(a,b){var c=this.uuid(),d=a.data("uuid");return d?this.cache[d]:(a.attr("data-uuid",c),this.cache[c]=b)},trim:function(b){return"string"==typeof b?a.trim(b):b},parse_data_attr:function(a){for(var b=a.data(this.settings.load_attr).split(/\[(.*?)\]/),c=b.length,d=[],e=c-1;e>=0;e--)b[e].replace(/[\W\d]+/,"").length>4&&d.push(b[e]);return d},reflow:function(){this.images(!0)}}}(Foundation.zj,this,this.document),function(a){function b(b){var c=a(b).find("li"),d=0,e=1300,f=[];c.addClass("hidden-diapo-list"),jQuery(c).each(function(){var a=jQuery(this);f[d]=setTimeout(function(){c.addClass("hidden-diapo-list").removeClass("visible-diapo-list"),a.removeClass("hidden-diapo-list").addClass("visible-diapo-list")},d*e),d++})}function c(b){if(a("html").hasClass("no-touch")){var c=a(b),d='<span class="'+b.replace(".","")+'">';d+=c.html()+"</span>",c.parent().append(d),c.remove()}}function d(b,c,d,e){a(c).css(d,a(b).outerHeight()*e)}function e(a,b,c,d){google.maps.event.addListener(b,d,function(){c.setContent(b.messageContent),c.open(a,b)})}function f(b){document.getElementById(b)&&a(window).resize(function(){setTimeout(g(b),1e3)})}function g(b){if(document.getElementById(b))if(a("#"+b).css("background","url("+i+"map/loader.gif) center center no-repeat"),a("html").hasClass("no-touch")){a("#mapWrapperLink").removeAttr("href",""),d("#hcard-la_souris_et_le_piano","#"+b,"padding-top",1.3);var c,f=new google.maps.LatLng(48.8655,2.392),g=new google.maps.LatLng(48.86615,2.39425),h=new google.maps.LatLng(48.8648,2.394655),j=new google.maps.LatLng(48.86482,2.398335),k=i;k+=a("html").hasClass("no-svg")?"map/location-coordonnees.png":"map/location-coordonnees.svg",c=a("#"+b).width()<650?15:16;var l,m,n,o=new google.maps.MarkerImage(k,new google.maps.Size(70,70),new google.maps.Point(0,0)),p=new google.maps.MarkerImage(k,new google.maps.Size(40,40),new google.maps.Point(10,75)),q={zoom:c,center:f,mapTypeId:google.maps.MapTypeId.ROADMAP},r=new google.maps.Map(document.getElementById(b),q),s=new google.maps.InfoWindow;l=new google.maps.Marker({icon:o,position:g,map:r,messageTitle:"La souris et le piano",messageContent:"C'est ici!"}),m=new google.maps.Marker({icon:p,position:j,map:r,messageTitle:"Métro 3 et 3bis Gambetta",messageContent:"Sortie place Gambetta ou Mairie du 20ème"}),n=new google.maps.Marker({icon:p,position:h,map:r,messageTitle:"Métro 3 et 3bis Gambetta",messageContent:"Sortie place Martin Nadaud"});var t,u,v=[l,m,n];for(t=v.length-1;t>=0;t--)u='<div class="infowindow"><span><strong>'+v[t].messageTitle+"</strong><br/></span>",v[t].messageContent=u+"<span>"+v[t].messageContent+"</span></div>",e(r,v[t],s,"mouseover")}else a("#"+b).css("background-image","url("+i+"map/mapHd.png)"),a("#"+b).click(function(){window.open("http://goo.gl/maps/RgCDv")})}var h=a("script[src*=scripts]").attr("src"),i=h.replace("js/scripts.min.js","img/");a("document").ready(function(){b("#creation-diapo-list"),c(".phone-link"),c(".skype-link"),g("map"),f("map")})}(jQuery);